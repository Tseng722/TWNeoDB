{% extends "base.html" %}
{% block title %} test {% endblock %}
{% block content %}   
    <div class="col-md-12" style="padding-top: 100px;"></div>
   
    <div class="container-sm">
        <h1>Priortizing score</h1>
        {% if job_status == 'SUCCESS' %}
            <div class="table-responsive">        
                <table class="table table-bordered text-center" style="white-space: nowrap;">
                    <thead >
                        <tr class="table-secondary text-center">
                            <th colspan="3">Basic information</th>
                            <th colspan="3">Annotation</th>
                            <th colspan="10">MHC related scores</th>
                            <th colspan="3">TCR related scores</th>
                        </tr>
                        <tr>
                            {% for column in df_final.columns %}
                                <th>{{ column }}</th>
                            {% endfor %}
                        </tr>
                    </thead>
                    <tbody>
                        {% for row in df_final.values %}
                            <tr>
                                <td>{{row.0}}</td>
                                <td>{{row.1}}</td>
                                <td>{{row.2}}</td>
                                <td>{{row.3}}</td>
                                <td>{{row.4}}</td>
                                <td>
                                    {% if row.5 != '' %}
                                        <p class="text-center" data-toggle="tooltip" title="{{row.5}}">â“˜</p>
                                    {% endif %}
                                </td>
                                <td>{{row.6}}</td>
                                <td>{{row.7}}</td>
                                <td>{{row.8}}</td>
                                <td>{{row.9}}</td>
                                <td>{{row.10}}</td>
                                <td>{{row.11}}</td>
                                <td>{{row.12}}</td>
                                <td>{{row.13}}</td>
                                <td>{{row.14}}</td>
                                <td>{{row.15}}</td>
                                <td>{{row.16}}</td>
                                
                                <!-- {% for cell in row %}
                                    <td>{{cell}}</td>
                                {% endfor %} -->
                            </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
            <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                <a class="btn btn-secondary me-md-2 " href="{% url 'download_prioritizing_result' job_uuid %}" role="button">Download</a>
            </div>
        {% elif job_status == 'WAITING' %}
            <p>Your task for prioritizing score prediction has been successfully submitted to our online system.</p> 
            <p>Please be patient and allow some time to receive the results.</p>
            
        {% elif job_status == 'FAILED' %}
            <p>There seems to be an issue with your task submission. </p> 
            <p>Please upload your file again and double-check the format.</p>
        {% endif %}
    </div>
    <script>
        $(function () {
            $('[data-toggle="popover"]').popover()
        });
        //Apply Bootstrap tooltip style
        $('[data-toggle="tooltip"]').tooltip({
            trigger : 'hover'
        });
    </script>
{% endblock %}